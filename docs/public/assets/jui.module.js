var t=Object.defineProperty,e=(e,i,s)=>((e,i,s)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s)(e,"symbol"!=typeof i?i+"":i,s);let i={info:'<path d="M12 22C6.47715 22 2 17.5228 2 12 2 6.47715 6.47715 2 12 2 17.5228 2 22 6.47715 22 12 22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12 20 7.58172 16.4183 4 12 4 7.58172 4 4 7.58172 4 12 4 16.4183 7.58172 20 12 20ZM13 10.5V15H14V17H10V15H11V12.5H10V10.5H13ZM13.5 8C13.5 8.82843 12.8284 9.5 12 9.5 11.1716 9.5 10.5 8.82843 10.5 8 10.5 7.17157 11.1716 6.5 12 6.5 12.8284 6.5 13.5 7.17157 13.5 8Z"></path>',success:'<path d="M4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12ZM12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM17.4571 9.45711L16.0429 8.04289L11 13.0858L8.20711 10.2929L6.79289 11.7071L11 15.9142L17.4571 9.45711Z"></path>',warning:'<path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z"></path>',error:'<path d="M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM12 10.5858L14.8284 7.75736L16.2426 9.17157L13.4142 12L16.2426 14.8284L14.8284 16.2426L12 13.4142L9.17157 16.2426L7.75736 14.8284L10.5858 12L7.75736 9.17157L9.17157 7.75736L12 10.5858Z"></path>',"arrow-left":'<path d="M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"></path>',"arrow-down":'<path d="M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"></path>'};const s=/* @__PURE__ */new Map,n=/* @__PURE__ */new Map;let o={};function r(t){if(!(t in i))throw new Error(`Icon "${t}" not found.`);return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">'+i[t]+"</svg>"}function a(t){if("object"!=typeof t||null===t)throw new Error("Icons must be a valid object.");for(const[e,i]of Object.entries(t)){if("string"!=typeof i)throw new Error(`Invalid SVG path for icon "${e}".`);svg[e]=i}}let l=null;const h=/* @__PURE__ */new WeakMap,c=/* @__PURE__ */new WeakMap;function u(t,e){let i=h.get(t);i||(i=/* @__PURE__ */new Map,h.set(t,i));let s=i.get(e);s||(s=/* @__PURE__ */new Set,i.set(e,s)),l&&(s.add(l),l.deps.push(s))}function d(t,e){const i=h.get(t);if(!i)return;const s=i.get(e);if(s){const t=new Set(s);for(const e of t)e.scheduler?e.scheduler():e()}}function f(t){if("object"!=typeof t||null===t)return t;if(c.has(t))return c.get(t);const e=new Proxy(t,{get(t,e,i){const s=Reflect.get(t,e,i);return u(t,e),"object"==typeof s&&null!==s?f(s):s},set(t,e,i,s){const n=t[e],o=Reflect.set(t,e,i,s);return n!==i&&d(t,e),o}});return c.set(t,e),e}function m(t){const e={i:t,get value(){return u(e,"value"),this.i},set value(t){t!==this.i&&(this.i=t,d(e,"value"))}};return e}function p(t,e={}){const i=(...e)=>{if(l!==i){!function(t){for(const e of t.deps)e.delete(t);t.deps.length=0}(i),l=i;try{return t(...e)}finally{l=null}}};return i.deps=[],i.scheduler=e.scheduler,e.lazy||i(),i}function b(t){let e,i=!0;const s={o:!0,get value(){return u(s,"value"),i&&(e=t(),i=!1),e}};return p(()=>{t()},{scheduler:()=>{i||(i=!0,d(s,"value"))}}),s}const w=t=>null===t?"null":t instanceof HTMLElement?"HTMLElement":Array.isArray(t)?"array":typeof t,v=t=>"function"==typeof t&&null!==t.prototype&&t.prototype.constructor===t,y=(t,e,i,s=[])=>{const n=Array.isArray(i)?i:[i],o=Array.isArray(s)?s:s?[s]:[],r=w(e);if(!n.some(t=>t===r)){const e=n.join(", ");throw new Error(`Validator: ${t} expects ${e}, but got ${r}.`)}for(const a of o){let i,s;if("function"==typeof a)i=a,s="does not satisfy the required condition.";else{if(!a||"function"!=typeof a.test)throw new Error("Validator: Condition must be a function or { test, message }.");i=a.test,s=a.message||"condition failed."}if(!i(e))throw new Error(`Validator: ${t} ${s}`)}},g=t=>"function"==typeof t&&/^class\s/.test(Function.prototype.toString.call(t)),k=(t,e=[],i="",o=!1,r=null)=>{if(!v(t))throw new Error("First argument expects a class/constructor function.");if(!Array.isArray(e))throw new Error("Second argument must be an array of arguments.");if("string"!=typeof i)throw new Error("Third argument expects a string.");if("boolean"!=typeof o)throw new Error("Fourth argument expects a boolean.");if("number"!=typeof r&&null!==r)throw new Error("Fifth argument expects a number or null.");const a=""===i.trim()?N():i;if(s.has(a)&&!o)return s.get(a).proxy;const l=new t(...e),h=new Proxy(l,{get:(t,e,i)=>(r&&function(t,e){n.has(t)&&clearTimeout(n.get(t));const i=setTimeout(()=>{x(t)},e);n.set(t,i)}(a,r),Reflect.get(t,e,i)),set:(t,e,i,s)=>Reflect.set(t,e,i,s)});return s.set(a,{instance:l,proxy:h}),h};function x(t){if(s.has(t)){const{instance:i}=s.get(t);if("function"==typeof i.destroy)try{i.destroy()}catch(e){throw new Error(`release(): destroy() failed on instance with key "${t}".`)}s.delete(t)}n.has(t)&&(clearTimeout(n.get(t)),n.delete(t))}function $(){for(const{instance:e}of s.values())if("function"==typeof e.destroy)try{e.destroy()}catch(t){}s.clear();for(const e of n.values())clearTimeout(e);n.clear()}const _={instances:/* @__PURE__ */new Map,get(t,e){return this.instances.has(t)||this.instances.set(t,e()),this.instances.get(t)},destroy(t){if(this.instances.has(t)){const e=this.instances.get(t);e.destroy&&e.destroy(),this.instances.delete(t)}},destroyAll(){for(const t of this.instances.values())t.destroy&&t.destroy();this.instances.clear()}};function E(t){o=t}function C(){return o}function S(){const t=document.documentElement.getAttribute("lang");if(t){switch(t.substring(0,2).toLowerCase()){case"en":default:return"en";case"zh":return"zh"}}return j()}function j(){return"undefined"==typeof navigator||navigator.language.toLowerCase().startsWith("en")?"en":"zh"}function T(t,e=o,i=null){var s;return null===i&&(i=S()),(null==(s=e[i])?void 0:s[t])||t}function M(){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();const t=new Uint8Array(16);if("function"!=typeof crypto.getRandomValues)throw new Error("Your browser is too old to support secure login.");crypto.getRandomValues(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128;const e=Array.from(t).map(t=>t.toString(16).padStart(2,"0")).join("");return[e.slice(0,8),e.slice(8,12),e.slice(12,16),e.slice(16,20),e.slice(20,32)].join("-")}function N(t=8){if(!Number.isInteger(t)||t<1||t>32)throw new Error("Length must be an integer between 1 and 32");const e=new Uint8Array(t);crypto.getRandomValues(e);let i="";for(let s=0;s<t;s++)i+="abcdefghijkmnpqrstuvwxyz23456789"[31&e[s]];return i}function A(t){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return String(t).replace(/[&<>"']/g,t=>e[t])}function L(){if("undefined"==typeof navigator)return!1;if(navigator.userAgentData)return navigator.userAgentData.mobile;const t=navigator.userAgent;return/android|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i.test(t)}function I(t){const e=`; ${document.cookie}`.split(`; ${t}=`);return 2===e.length?e.pop().split(";").shift():null}function H(t,e,i=86400){const s=new Date(Date.now()+1e3*i).toUTCString();return document.cookie=[`${t}=${e}`,`expires=${s}`,"path=/","sameSite=strict"].join("; "),I(t)===e}function O(t){return document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`,!I(t)}async function D(t,e){return(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}async function P(t){return"undefined"==typeof window||"undefined"==typeof document?Promise.resolve(!1):("string"!=typeof t&&(t=String(t)),navigator.clipboard&&"function"==typeof navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>!0).catch(()=>q(t)):Promise.resolve(q(t)))}function q(t){let e=null;try{e=document.createElement("textarea"),e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",e.style.opacity="0",document.body.appendChild(e),e.select(),e.setSelectionRange(0,t.length);return!!document.execCommand("copy")}catch(i){return!1}finally{e&&e.parentNode&&e.parentNode.removeChild(e)}}function F(t,e,i,s){if(!t)throw new Error("on(): element is required");t.addEventListener(e,i,s)}function R(t,e,i,s){if(!t)throw new Error("off(): element is required");t.removeEventListener(e,i,s)}function z(t,e=document){return e.querySelector(t)}function B(t){return t instanceof Element?t:"string"==typeof t?z(t):null}function V(t,e={}){if("undefined"==typeof document)throw new Error("newEl() can only be used in browser environment.");if(!1===e.dependency||"function"==typeof e.dependency&&!e.dependency())return"";const{is:i,className:s,id:n,attrs:o,style:r,events:a,text:l,html:h,children:c}=e,u=i?document.createElement(t,{is:i}):document.createElement(t);if(s&&(u.className=s),n&&(u.id=n),o&&"object"==typeof o)for(const[d,f]of Object.entries(o))null!=f&&u.setAttribute(d,String(f));if(r&&"object"==typeof r)for(const[d,f]of Object.entries(r))null!=f&&(u.style[d]=f);if(a&&"object"==typeof a)for(const[d,f]of Object.entries(a))"function"==typeof f&&F(u,d,f);return void 0!==c?Array.isArray(c)?u.append(...c):"string"==typeof c?u.innerHTML=c:c instanceof Node&&u.appendChild(c):void 0!==h?u.innerHTML=h:void 0!==l&&(u.textContent=l),u}function Z(t,e,i={}){const{threshold:s=.1,rootMargin:n="0px",root:o=null,waitForDOM:r=!0}=i,a={threshold:s,rootMargin:n,root:o};let l=null;if("string"==typeof t)l=document.querySelector(t);else{if(!(t instanceof Element))return void console.warn("lazyRender: target 必须是 CSS 选择器字符串或 DOM 元素");l=t}if(l&&document.body.contains(l))return void U(l,e,a);if(!r)return void e();const h=new MutationObserver(i=>{let s=!1;if("string"==typeof t){const e=document.querySelector(t);e&&document.body.contains(e)&&(s=!0,l=e)}else document.body.contains(t)&&(s=!0,l=t);s&&(h.disconnect(),U(l,e,a))});h.observe(document.documentElement,{childList:!0,subtree:!0})}function U(t,e,i){if(!window.IntersectionObserver)return void e();const s=new IntersectionObserver(i=>{for(const n of i)if(n.isIntersecting){s.unobserve(t),s.disconnect(),e();break}},i);s.observe(t)}const J="undefined"!=typeof window?`${window.location.origin}/wp-json/`:"";function W(t="info",...e){"undefined"!=typeof window&&console[t](...e)}const G=class t{constructor(){this.bindings=/* @__PURE__ */new Map,this.instances=/* @__PURE__ */new Map,this.serviceData=/* @__PURE__ */new Map}static run(){return t.l||(t.l=new t),t.l}bind(t,e,i={}){var s,n,o;if("function"==typeof e){return/^[A-Z]/.test(e.name)||e.prototype&&Object.getOwnPropertyNames(e.prototype).length>1?this.bindClass(t,e,null!=(s=i.singleton)&&s,null!=(n=i.deps)?n:[]):this.bindFactory(t,e,null!=(o=i.singleton)&&o)}return this.bindValue(t,e)}bindClass(t,e,i=!1,s=[]){if("function"!=typeof e)throw new TypeError("bindClass expects a constructor, got "+typeof e);return this.bindings.set(t,{type:"class",Class:e,singleton:i,deps:Array.isArray(s)?s:[]}),this}bindValue(t,e){return this.bindings.set(t,{type:"value",value:e}),this.instances.set(t,e),this}bindFactory(t,e,i=!1){if("function"!=typeof e)throw new TypeError("bindFactory expects a function, got "+typeof e);return this.bindings.set(t,{type:"factory",factory:e,singleton:i}),this}get(t,...e){const i=this.bindings.get(t);if(!i)throw new Error(`Service "${t}" is not bound in the container.`);if("value"===i.type)return i.value;if("factory"===i.type){const s=i.singleton&&0===e.length;if(s&&this.instances.has(t))return this.instances.get(t);const n=i.factory(this,...e);return s&&this.instances.set(t,n),n}if("class"===i.type){const s=i.singleton&&0===e.length;if(s&&this.instances.has(t))return this.instances.get(t);const n=[];for(const e of i.deps){if(!this.bindings.has(e))throw new Error(`Dependency "${e}" required by "${t}" is not bound in the container.`);n.push(this.get(e))}const o=[...n,...e],r=new i.Class(...o);return s&&this.instances.set(t,r),r}throw new Error(`Unknown binding type for service "${t}".`)}has(t){return this.bindings.has(t)}unbind(t){return!!this.bindings.has(t)&&(this.bindings.delete(t),this.instances.delete(t),this.serviceData.has(t)&&this.serviceData.delete(t),!0)}destroy(t){return!!this.instances.has(t)&&(this.instances.delete(t),!0)}destroyAll(){this.instances.clear()}reset(){this.bindings.clear(),this.instances.clear()}setData(t,e,i){if(!this.serviceData.has(t))throw new Error(`Service [${t}] does not exist.`);this.serviceData.get(t).set(e,i)}getData(t,e){if(!this.serviceData.has(t))throw new Error(`Service [${t}] does not exist.`);return this.serviceData.get(t).get(e)}hasData(t,e){if(!this.serviceData.has(t))throw new Error(`Service [${t}] does not exist.`);return this.serviceData.get(t).has(e)}removeData(t,e){if(!this.serviceData.has(t))throw new Error(`Service [${t}] does not exist.`);this.serviceData.get(t).delete(e)}};e(G,"_instance",null),e(G,"PARAM",/* @__PURE__ */Symbol("PARAM"));let X=G;class Y{constructor(t="localStorage"){this.driver=this.h(t)}h(t){switch(t){case"cookie":return new K;case"localStorage":return"undefined"!=typeof localStorage?new Q:(console.warn("localStorage not supported, falling back to cookie."),new K);case"indexedDB":return"undefined"!=typeof indexedDB?new tt:(console.warn("indexedDB not supported, falling back to localStorage."),this.h("localStorage"));default:throw new Error(`Unsupported driver: ${t}`)}}set(t,e,i){this.driver.setItem(t,e,i)}get(t){return this.driver.getItem(t)}remove(t){this.driver.removeItem(t)}clear(){this.driver.clear()}has(t){return this.driver.hasItem(t)}}class K{constructor(){this.options={}}setOptions(t){this.options={...this.options,...t}}setItem(t,e,i){let s=`${encodeURIComponent(t)}=${encodeURIComponent(e)}`;if(i){const t=/* @__PURE__ */new Date;t.setTime(t.getTime()+1e3*i),s+=`; expires=${t.toUTCString()}`}for(const[n,o]of Object.entries(this.options))!0===o?s+=`; ${n}`:!1!==o&&null!=o&&(s+=`; ${n}=${o}`);document.cookie=s}getItem(t){const e=document.cookie.split(";");for(const i of e){const[e,s]=i.trim().split("=");if(e===encodeURIComponent(t))return decodeURIComponent(s)}return null}removeItem(t){this.setItem(t,"",-1)}clear(){const t=document.cookie.split(";");for(const e of t){const t=e.split("=")[0].trim();this.removeItem(decodeURIComponent(t))}}hasItem(t){return null!==this.getItem(t)}}class Q{setItem(t,e){localStorage.setItem(t,JSON.stringify(e))}getItem(t){const e=localStorage.getItem(t);try{return JSON.parse(e)}catch(i){return e}}removeItem(t){localStorage.removeItem(t)}clear(){localStorage.clear()}hasItem(t){return null!==localStorage.getItem(t)}}class tt{constructor(){this.options={dbName:"StoreDB",version:1,storeName:"data"},this.db=null,this.u()}setOptions(t){this.options={...this.options,...t},this.db&&(this.db.close(),this.u())}u(){const{dbName:t,version:e,storeName:i}=this.options,s=indexedDB.open(t,e);s.onupgradeneeded=t=>{this.db=t.target.result,this.db.objectStoreNames.contains(i)||this.db.createObjectStore(i,{keyPath:"key"})},s.onsuccess=t=>{this.db=t.target.result},s.onerror=t=>{console.error("Failed to open IndexedDB:",t.target.error)}}m(t,e){if(!this.db)throw new Error("IndexedDB is not initialized.");const{storeName:i}=this.options;e(this.db.transaction([i],t).objectStore(i))}setItem(t,e,i){const s={key:t,value:e,expire:i?Date.now()+1e3*i:null};this.m("readwrite",t=>{t.put(s)})}getItem(t){return new Promise((e,i)=>{this.m("readonly",s=>{const n=s.get(t);n.onsuccess=()=>{const t=n.result;t&&(!t.expire||t.expire>Date.now())?e(t.value):e(null)},n.onerror=()=>{i(new Error("Failed to get item from IndexedDB."))}})})}removeItem(t){this.m("readwrite",e=>{e.delete(t)})}clear(){this.m("readwrite",t=>{t.clear()})}hasItem(t){return new Promise((e,i)=>{this.m("readonly",s=>{const n=s.get(t);n.onsuccess=()=>{e(!!n.result)},n.onerror=()=>{i(new Error("Failed to check item existence in IndexedDB."))}})})}}let et=null,it=null;function st(){return it}const nt="undefined"!=typeof window&&window.__SIGNAL_DEVTOOLS__||null;function ot(t,e){var i;null==(i=null==nt?void 0:nt.emit)||i.call(nt,t,e)}const rt=/* @__PURE__ */new Set,at=/* @__PURE__ */new Set,lt=/* @__PURE__ */new Set;let ht=!1,ct=!1,ut=!1;function dt(t){t.disposed||(ct?lt.add(t):(ut?at.add(t):rt.add(t),ht||(ht=!0,queueMicrotask(ft))))}function ft(){let t=new Set(rt);for(rt.clear();t.size>0;)t.forEach(t=>{t.disposed||t.run()}),t=new Set(rt),rt.clear();ht=!1}function mt(t){if(ct)t();else{ct=!0;try{t()}finally{ct=!1;const t=new Set(lt);lt.clear(),t.forEach(dt)}}}function pt(t){const e=ht;ht=!1;try{t(),ft()}finally{ht=e}}function bt(t){if(ut)t();else{ut=!0;try{t()}finally{ut=!1;const t=new Set(at);at.clear(),t.forEach(dt)}}}function wt(t,e={}){let i=t;const s=/* @__PURE__ */new Set,n=e.equals||Object.is;function o(){return et&&s.add(et),i}return o.peek=()=>i,[o,function(t){if(n(i,t))return;const e=i;i=t,s.forEach(dt),ot("signal:update",{prev:e,next:t})}]}function vt(t){return t}function yt(t,e={}){return Mt(t,e)}function gt(t,e={}){var i;const s=e.priority||0,n={fn:t,priority:s,cleanups:[],disposed:!1,run(){if(n.disposed)return;kt(n);const e=et,i=it;et=n,it=n,ot("effect:run",{effect:n});try{t()}catch(s){throw ot("effect:error",{effect:n,error:s}),s}finally{et=e,it=i}}};return null==(i=null==it?void 0:it.cleanups)||i.push(()=>function(t){if(t.disposed)return;t.disposed=!0,kt(t),ot("effect:dispose",{effect:t})}(n)),n.run(),n}function kt(t){t.cleanups.forEach(e=>{try{e()}catch(i){ot("cleanup:error",{effect:t,error:i}),console.error("Cleanup error:",i)}}),t.cleanups.length=0}function xt(t){var e;null==(e=null==it?void 0:it.cleanups)||e.push(t)}function $t(t){xt(t)}function _t(t){it&&queueMicrotask(t)}function Et(t){const e={cleanups:[]},i=it;it=e;try{t()}catch(s){throw ot("scope:error",{scope:e,error:s}),s}finally{it=i}return{dispose(){e.cleanups.forEach(t=>{try{t()}catch(s){console.error("Scope cleanup error:",s)}}),e.cleanups.length=0}}}function Ct(t){return Et(t)}function St(t){const e=et;et=null;try{return t()}finally{et=e}}function jt(t,e){const[i,s]=wt(null);let n=null;function o(){n=Et(()=>{try{t()}catch(e){s(e),ot("error-boundary:catch",{error:e})}})}return o(),{error:i,hasError:()=>null!==i(),reset(){n&&n.dispose(),s(null),o()},dispose(){n&&n.dispose(),s(null),n=null}}}function Tt(t,e){try{return t()}catch(i){return ot("catch-error",{error:i}),"function"==typeof e?e(i):e}}function Mt(t,e={}){const i=e.equals||Object.is;let s,n=!1,o=!1;const[r,a]=wt(void 0);return gt(()=>{if(o)throw new Error("Circular dependency detected in createMemo");o=!0;try{const e=t();n?i(s,e)||(s=e,a(e)):(n=!0,s=e,a(e))}finally{o=!1}}),r}function Nt(t,e,i={}){const s=Array.isArray(t)?t:[t];let n,o=!1;gt(()=>{const t=s.map(t=>t());o||(o=!0,!i.defer)?(e(1===s.length?t[0]:t,n),n=t):n=t})}const At=/* @__PURE__ */new WeakMap,Lt=/* @__PURE__ */new WeakMap;function It(t){if(Lt.has(t))return Lt.get(t);function e(t,e){let i=At.get(t);return i||(i=/* @__PURE__ */new Map,At.set(t,i)),i.has(e)||i.set(e,wt(t[e])),i.get(e)}const i=new Proxy(t,{get(t,i){if("symbol"==typeof i)return t[i];const[s]=e(t,i);return s()},set(t,i,s){t[i]=s;const[,n]=e(t,i);return n(s),!0},deleteProperty(t,e){var i,s;return null==(s=null==(i=At.get(t))?void 0:i.get(e))||s[1](void 0),delete t[e]}});return Lt.set(t,i),i}const Ht=/* @__PURE__ */new WeakMap;function Ot(t){return"object"!=typeof t||null===t?t:Array.isArray(t)?function(t){if(Ht.has(t))return Ht.get(t);const e=It(t);let i=null,s=0;const n=new Proxy(e,{get(t,e){const n=t[e];if("function"==typeof n){return["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"].includes(e)?function(...o){const r=t.length,a=n.apply(t,o),l=t.length;return mt(()=>{if(r!==l){const e=At.get(t);if(e&&e.has("length")){const[,t]=e.get("length");t(l)}}if(["sort","reverse","fill","copyWithin"].includes(e)){i||(i=wt(0));const[,t]=i;t(++s)}}),a}:n.bind(t)}return"__version__"===e&&i?i[0]():"object"==typeof n&&null!==n?Ot(n):n},set(t,i,s){if("string"==typeof i&&/^\d+$/.test(i)){if(parseInt(i,10)>=t.length){const e=At.get(t);if(e&&e.has("length")){const[,n]=e.get("length");return t[i]=s,n(t.length),!0}}}return e[i]=s,!0}});return Ht.set(t,n),n}(t):function(t){if(Ht.has(t))return Ht.get(t);const e=It(t),i=new Proxy(e,{get(t,e){const i=t[e];return"object"==typeof i&&null!==i?Ot(i):i}});return Ht.set(t,i),i}(t)}function Dt(t,e={}){const i=It({loading:!0,error:null,data:null,isStale:!1});let s,n=0,o=null;function r(r,a=!1){const l=++n;o&&(clearTimeout(o),o=null);if(null===i.data&&null===i.error||a){const t=e.loadingDelay||0;t>0?o=setTimeout(()=>{l===n&&(i.loading=!0)},t):i.loading=!0}else i.isStale=!0;return i.error=null,s=Promise.resolve(t(r)).then(t=>{if(l===n)return i.data=t,i.loading=!1,i.isStale=!1,o&&(clearTimeout(o),o=null),t;throw new Error("Stale fetch response ignored")}).catch(t=>{throw l===n&&(i.error=t,i.loading=!1,i.isStale=!1,o&&(clearTimeout(o),o=null)),t}),s}if(e.source){let t=!0;gt(()=>{const i=e.source();t?(t=!1,r(i)):bt(()=>{r(i)})})}else r();return[function(){if(i.loading&&!i.data)throw s;if(i.error)throw i.error;return i.data},{state:i,reload:()=>{var t;return r(null==(t=e.source)?void 0:t.call(e),!0)},refetch:()=>{var t;return r(null==(t=e.source)?void 0:t.call(e),!1)}}]}function Pt(t,e){try{return t()}catch(i){if(i instanceof Promise)return i.then(()=>dt({run:t,disposed:!1})),e;throw i}}function qt(t,e){gt(()=>{t.textContent=e()})}function Ft(t,e,i){gt(()=>{const s=i();null==s?t.removeAttribute(e):t.setAttribute(e,s)})}function Rt(t,e,i){gt(()=>{t.style[e]=i()})}function zt(t,e){gt(()=>{t.style.display=e()?"":"none"})}function Bt(t,e,i){let s=null;gt(()=>{e()?s||(s=i(),t.after(s)):(null==s||s.remove(),s=null)})}function Vt(t,e,i,s={}){const n=s.key||((t,e)=>e);let o=[];gt(()=>{const s=e(),r=[],a=new Map(o.map(t=>[t.key,t])),l=/* @__PURE__ */new Set;s.forEach((e,s)=>{const o=n(e,s);l.has(o)&&console.warn(`[bindList] Duplicate key detected: "${o}". This may cause rendering issues. Please provide a unique key function via options.key`),l.add(o);let h=a.get(o);if(h)h.setIndex(s),a.delete(o);else{const[n,r]=wt(s),a=i(e,n);h={key:o,item:e,index:n,setIndex:r,node:a},t.before(a)}r.push(h)}),a.forEach(t=>t.node.remove()),o=r})}function Zt(t){return(e,i)=>e[t]}function Ut(...t){return(e,i)=>t.map(t=>e[t]).join("_")}function Jt(){return(t,e)=>e}function Wt(){return(t,e)=>t}const Gt=class t{constructor(e){this.options=Object.assign({title:"Tip",content:"",position:"center",confirmText:"Confirm",cancelText:"Cancel",showCancel:!0,showClose:!0,fullscreen:!1,onShow:null,onShown:null,onHide:null,onHidden:null,onConfirm:null,onSubmit:null,fields:null,header:!0,footer:!0,style:null,id:null,escClose:!1,bgClose:!1,lazy:!1},e),this.p(this.options),this.u(this.options),t.instances.add(this)}u(t){this.isVisible=!1,this.fields=null,this.v={},this.root=null,this.$=null,this._=t.fields?JSON.parse(JSON.stringify(t.fields)):[],t.lazy||this.C(t)}get modal(){return this.root?z(".j-modal",this.root):null}get form(){return this.modal?z(".j-form",this.modal):null}get confirmBtn(){return this.modal?z(".modal-confirm",this.modal):null}get cancelBtn(){return this.modal?z(".modal-cancel",this.modal):null}C(t){if(this.root)return;const{header:e,id:i,title:s,position:n}=t,o=e?"aria-labelledby":"aria-label",r=e?`${i}_title`:s||"Modal",a=V("div",{className:`j-popup-layout is-${n}`,attrs:{role:"dialog","aria-modal":"true",[o]:r},children:[this.S(t)]});return this.root=a,a}S(t){const{fullscreen:e,style:i,id:s}=t;return V("div",{className:e?"j-modal is-fullscreen":"j-modal",id:s,attrs:{role:"document",style:i||null},children:[this.j(t),this.T(t),this.M(t)]})}j(t){const{id:e,title:i,header:s,showClose:n}=t;return V("div",{className:"modal-header",html:`<div class="modal-title" id="${e}_title">${i}</div>${n?'<button class="is-reset modal-close" data-action="close" aria-label="close">×</button>':""}`,dependency:()=>s})}M(t){const{showCancel:e,cancelText:i,confirmText:s,footer:n}=t;return V("div",{className:"modal-footer",html:`${e?`<button type="button" class="j-button is-ghost modal-cancel" data-action="close" aria-label="close">${i}</button>`:""}<button type="button" class="j-button is-primary modal-confirm" data-action="confirm">${s}</button>`,dependency:()=>n})}T(t){const{fields:e,content:i}=t;return V("div",{className:"modal-body",html:`${e?`<div class="modal-form-container">${this.N(t).outerHTML}</div>`:i}`})}N(t){return V("form",{className:"j-form is-vertical is-item-vertical",children:[...this.A(t.fields)]})}A(t){const e=[];for(const i of t){const t=V("div",{className:"form-item",html:this.L(i)});e.push(t)}return e}L(t){switch(t.type){case"textarea":return this.I(t);case"select":return this.H(t);default:return this.O(t)}}O(t){let e="";const{type:i,required:s,id:n,label:o,name:r,placeholder:a,value:l,disabled:h}=t,c=n||N();switch(i){case"password":e="current-password";break;case"email":e="email";break;default:e="on"}return`<label class="item-label ${s?"is-required":""}" for="${c}">${o}</label><div class="form-control"><input type="${i||"text"}" class="j-input" name="${r}" id="${c}" placeholder="${a||""}" value="${l||""}" ${s?"required":""} ${h?"disabled":""} autocomplete="${e}"/></div>`}I(t){const{required:e,id:i,label:s,name:n,placeholder:o,value:r,disabled:a}=t,l=i||N();return`<label class="item-label ${e?"is-required":""}" for="${l}">${s}</label><div class="form-control"><textarea class="j-textarea" name="${n}" id="${l}" placeholder="${o||""}" ${e?"required":""} ${a?"disabled":""}>${r||""}</textarea></div>`}H(t){let e="";const{options:i,required:s,id:n,label:o,name:r,disabled:a}=t,l=n||N();if(i)for(const h of i)e+=`<option value="${h.value}" ${h.selected?"selected":""} ${h.disabled?"disabled":""}>${h.text}</option>`;return`<label class="item-label ${s?"is-required":""}" for="${l}">${o}</label><div class="form-control"><select class="j-select" name="${r}" id="${l}" autocomplete="off" ${s?"required":""} ${a?"disabled":""}>${e}</select></div>`}p(t){const{title:e,content:i,position:s,confirmText:n,cancelText:o,showCancel:r,showClose:a,fullscreen:l,header:h,footer:c,escClose:u,bgClose:d,style:f,id:m,onShow:p,onShown:b,onHide:w,onHidden:v,onConfirm:g,onSubmit:k,fields:x,lazy:$}=t;y("title",e,"string"),y("content",i,["string","HTMLElement"]),y("position",s,"string"),y("confirmText",n,"string"),y("cancelText",o,"string"),y("showCancel",r,"boolean"),y("showClose",a,"boolean"),y("fullscreen",l,"boolean"),y("header",h,"boolean"),y("footer",c,"boolean"),y("escClose",u,"boolean"),y("bgClose",d,"boolean"),y("style",f,["string","null"]),y("id",m,["string","null"]),y("onShow",p,["function","null"]),y("onShown",b,["function","null"]),y("onHide",w,["function","null"]),y("onHidden",v,["function","null"]),y("onConfirm",g,["function","null"]),y("onSubmit",k,["function","null"]),y("fields",x,["array","null"]),y("lazy",$,"boolean"),m&&m.trim()||(this.options.id=N())}D(t){if(!(t instanceof Element))return;const e=z(".modal-close",t);e&&(e.style.transform=`translateX(${e.clientHeight/3}px)`)}P(t,e){this.q(t,e),this.F(t,e),this.R(e)}q(t,e){t&&e.bgClose&&(this.v.bg=e=>{e.target===t&&this.hide()},F(t,"click",this.v.bg))}F(t,e){t&&e.escClose&&(this.v.esc=t=>{"Escape"===t.key&&this.isVisible&&this.hide()},F(document,"keydown",this.v.esc))}R(t){this.v.inside=e=>{const i=e.target.dataset.action;"confirm"===i||"submit"===i?this.B(t):("cancel"===i||"close"===i||e.target.classList.contains("modal-close"))&&this.hide()},this.modal.addEventListener("click",this.v.inside)}B(t){if(this.form&&t.fields.length>0){this.form.dispatchEvent(new Event("submit"));const e=new FormData(this.form),i={};for(const[t,s]of e.entries())i[t]=s;this.fields=i,null!==this.$&&"object"==typeof this.$&&this.fields&&(this.fields=Object.assign(this.fields,this.$)),this.V(t,this.fields)}else this.Z(t)}U(){this.form&&this._&&(z(".modal-form-container",this.modal).innerHTML=this.N({fields:this._}).outerHTML)}async Z(t){t.onConfirm&&await Promise.resolve(t.onConfirm()),this.hide()}async V(t,e){t.onSubmit&&(await Promise.resolve(this.options.onSubmit(e)),this.$=null)}J(){const t=[{k:"esc",t:document,e:"keydown"},{k:"bg",t:this.root,e:"click"},{k:"inside",t:this.modal,e:"click"}];for(const{k:e,t:i,e:s}of t)this.v[e]&&(R(i,s,this.v[e]),delete this.v[e])}show(){if(!t.instances.has(this))throw new Error("Modal: The current instance has been destroyed.");if(this.isVisible)return;const{lazy:e,onShow:i,onShown:s}=this.options;e&&!this.root&&this.C(this.options),i&&i(),document.body.appendChild(this.root),document.body.style.overflow="hidden",this.D(this.modal),this.isVisible=!0,this.P(this.root,this.options);const n=z('input, select, textarea, [tabindex]:not([tabindex="-1"])',this.modal);n&&n.focus(),s&&s()}hide(){if(!this.isVisible||!this.root)return;const{onHide:t,onHidden:e}=this.options;t&&t();this.modal.style.transition="opacity 0.3s ease, transform 0.3s ease",this.modal.style.opacity="0",this.modal.style.transform="scale(0)",this.isVisible=!1,this.$=null,this.fields=null,this.U(),setTimeout(()=>{this.root.parentNode.removeChild(this.root),document.body.style.overflow="",this.modal.style.cssText="",this.J(),e&&e()},300)}setFields(t){if(this.form)for(const e of Object.keys(t)){const i=z(`[name="${e}"]`,this.form);i&&("checkbox"===i.type||"radio"===i.type?i.checked=t[e]:i.value=t[e])}}addFields(t){if("object"!=typeof t)throw new Error("Modal: The data expects an object");this.$=t}setContent(t){if(!this.modal)return;if(this.options.fields)throw new Error("Modal.setContent: Cannot setContent when fields are defined.");const e=z(".modal-body",this.modal);e&&("string"==typeof t?e.innerHTML=t:t instanceof HTMLElement&&(e.innerHTML="",e.appendChild(t)),this.options.content=t)}showLoading(){if(z(".j-loading",this.modal))return;const t=V("div",{className:"j-loading is-active",html:'<div class="loading-spinner"></div>'});this.modal.insertAdjacentHTML("beforeend",t.outerHTML),this.confirmBtn&&(this.confirmBtn.disabled=!0),this.cancelBtn&&(this.cancelBtn.disabled=!0)}hideLoading(){const t=z(".j-loading",this.modal);t&&(t.parentNode&&t.parentNode.removeChild(t),this.confirmBtn&&(this.confirmBtn.disabled=!1),this.cancelBtn&&(this.cancelBtn.disabled=!1))}destroy(){this.isVisible?this.hide():this.root&&this.root.parentNode&&(this.root.parentNode.removeChild(this.root),document.body.style.overflow="",this.modal.style.cssText=""),this.J(),this.root=null,this.fields=null,this.$=null,this.v={},this.options=null,this.isVisible=null,t.instances.delete(this)}static destroyAll(){for(const e of Array.from(t.instances))e.destroy();t.instances.clear()}};e(Gt,"instances",/* @__PURE__ */new Set);let Xt=Gt;class Yt{W(){}static show(t="",e=3e3,i="info"){Yt.G(t,e,i);let s=document.querySelector(".j-toast-container");s||(s=V("div",{className:"j-toast-container"}),document.body.appendChild(s));const n=r(i),o=V("div",{className:`j-toast is-${i}`,attrs:{"data-toast":N()},html:`<span class="toast-icon">${n}</span>\n        <span class="toast-message">${t}</span>`});return s.appendChild(o),setTimeout(()=>{o.classList.add("toast-show")},10),e>0&&setTimeout(()=>{Yt.hide(o)},e),F(o,"click",()=>{Yt.hide(o)}),o}static success(t="",e=3e3){return Yt.show(t,e,"success")}static info(t="",e=3e3){return Yt.show(t,e,"info")}static warning(t="",e=3e3){return Yt.show(t,e,"warning")}static error(t="",e=3e3){return Yt.show(t,e,"error")}static hide(t){t&&(t.classList.remove("toast-show"),t.classList.add("toast-hide"),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t);const e=document.querySelector(".j-toast-container");e&&0===e.children.length&&e.parentNode.removeChild(e)},300))}static lite(t="",e=2e3){if("string"!=typeof t)throw new Error("Lite toast message expects a string");if("number"!=typeof e||e<=0)throw new Error("Lite toast duration expects a number greater than 0");const i=document.querySelector(".j-toast-lite");i&&i.remove();const s=V("div",{className:"j-toast-lite",text:t});return document.body.appendChild(s),setTimeout(()=>s.classList.add("is-shown"),10),setTimeout(()=>{s.classList.remove("is-shown"),s.classList.add("is-hidden"),setTimeout(()=>s.remove(),300)},e),s}static G(t,e,i){if("string"!=typeof t)throw new Error("Toast message expects a string");if("number"!=typeof e||e<=0)throw new Error("Toast duration expects a positive number or 0.");if(!["info","success","warning","error"].includes(i))throw new Error("Toast type expects one of [info, success, warning, error]")}}const Kt=class t{constructor(t){this.options=Object.assign({content:"",overlay:!0,filter:!0,direction:"left",animation:"slide",bgClose:!0,escClose:!0,id:null,onShow:null,onShown:null,onHide:null,onHidden:null},t),this.X(this.options),this.u(this.options)}X(t){const{content:e,overlay:i,filter:s,direction:n,animation:o,bgClose:r,escClose:a,id:l,onShow:h,onShown:c,onHide:u,onHidden:d}=t;y("content",e,["string","HTMLElement"]),y("overlay",i,"boolean"),y("filter",s,"boolean"),y("direction",n,"string",[{test:t=>["top","right","bottom","left"].includes(t),message:"expects one of [top, right, bottom, left]"}]),y("animation",o,"string",[{test:t=>["slide","push","none"].includes(t),message:"expects one of [slide, push, none]"}]),y("bgClose",r,"boolean"),y("escClose",a,"boolean"),y("id",l,["string","null"]),y("onShow",h,["function","null"]),y("onShown",c,["function","null"]),y("onHide",u,["function","null"]),y("onHidden",d,["function","null"]),l&&l.trim()||(this.options.id=N())}u(t){this.isVisible=!1,t.overlay&&(this.Y=this.K(t)),this.root=this.C(t),this.v={}}tt(t){"Escape"===t.key&&this.isVisible&&this.hide()}P(){const{bgClose:t,escClose:e}=this.options;this.v={overlay:this.hide.bind(this),esc:t=>this.tt(t),close:t=>{const e=t.target.dataset.action;"close"!==e&&"cancel"!==e||this.hide()}},this.Y&&t&&F(this.Y,"click",this.v.overlay),e&&F(document,"keydown",this.v.esc),F(this.root,"click",this.v.close)}et(){this.Y&&this.v.overlay&&(R(this.Y,"click",this.v.overlay),delete this.v.overlay),this.v.esc&&(R(document,"keydown",this.v.esc),delete this.v.esc),this.v.close&&(R(this.root,"click",this.v.close),delete this.v.close)}K(t){const e=t.filter,i=e?"backdropFilter":"",s=e?"blur(2px)":"";return V("div",{className:"j-offcanvas-overlay",style:{[i]:s}})}C(t){const{id:e,direction:i,animation:s,content:n}=t;return V("div",{className:`j-offcanvas ${i?`is-${i}`:""} ${s?`is-${s}`:""}`,id:e,children:V("div",{className:"offcanvas-content",children:n})})}it(){const{overlay:t,animation:e,direction:i}=this.options;if(t&&document.body.appendChild(this.Y),document.body.appendChild(this.root),document.body.style.overflow="hidden","push"===e){document.body.classList.add("offcanvas-push-body");const t=window.scrollY;this.Y.style.top=`${t}px`,this.root.style.top=`${t}px`}setTimeout(()=>{this.Y&&this.Y.classList.add("is-active"),"push"===e&&document.body.classList.add(`offcanvas-push-${i}`),this.root.classList.add("is-active")},10)}st(){const{animation:t,direction:e}=this.options;this.Y&&this.Y.classList.remove("is-active"),this.root.classList.remove("is-active"),"push"===t&&document.body.classList.remove(`offcanvas-push-${e}`),setTimeout(()=>{this.Y&&this.Y.parentNode&&this.Y.parentNode.removeChild(this.Y),this.root&&this.root.parentNode&&this.root.parentNode.removeChild(this.root),"push"===t&&document.body.classList.remove("offcanvas-push-body"),document.body.style.overflow=""},100)}async show(){const{onShow:t,onShown:e}=this.options;this.isVisible||(t&&await Promise.resolve(t()),this.it(),this.P(),this.isVisible=!0,setTimeout(()=>{e&&e()},100))}async hide(){const{onHide:t,onHidden:e}=this.options;this.isVisible&&(t&&await Promise.resolve(t()),this.et(),this.st(),this.isVisible=!1,e&&e())}destroy(){this.hide(),this.options=null,this.root=null,this.v={},t.instances.delete(this)}static destroyAll(){for(const e of Array.from(t.instances))e.destroy();t.instances.clear()}};e(Kt,"instances",/* @__PURE__ */new Set);let Qt=Kt;const te=class t{constructor(t={}){this.options=Object.assign({mode:"dark",render:"dark",theme:"indigo",radius:"sm",shadow:"sm",font:"sm",key:"jui-theme"},t),this.languages={en:{b:"Back",t:"Customize",d:"Customize your UI experience.",theme:"Theme",radius:"Radius",shadow:"Shadow",font:"Font",mode:"Mode",gray:"Gray",olive:"Olive",tomato:"Tomato",ruby:"Ruby",pink:"Pink",violet:"Violet",indigo:"Indigo",blue:"Blue",teal:"Teal",grass:"Grass",mint:"Mint",lime:"Lime",yellow:"Yellow",orange:"Orange",gold:"Gold",n:"None",sm:"Small",md:"Medium",lg:"Large",xl:"XL",round:"Round",light:"Light",dark:"Dark",auto:"Auto"},zh:{b:"返回",t:"自定义主题",d:"自定义您的UI体验。",theme:"主题",radius:"圆角",shadow:"阴影",font:"字号",mode:"模式",gray:"灰色",olive:"橄榄绿",tomato:"番茄红",ruby:"红宝石",pink:"粉红",violet:"紫罗兰",indigo:"靛蓝",blue:"蓝色",teal:"青色",grass:"草绿",mint:"薄荷绿",lime:"酸橙绿",yellow:"黄色",orange:"橙色",gold:"金色",n:"无",sm:"小",md:"中",lg:"大",xl:"更大",round:"圆角",light:"浅色",dark:"深色",auto:"自动"}},this.u()}u(){this.v={},this.mq=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"),this.nt(),this.ot(this.options),this.rt(),this.lt(document)}ht(t){return T(t,this.languages)}nt(){try{const t=localStorage.getItem(this.options.key);if(t){const e=JSON.parse(t);this.options=Object.assign({},this.options,e)}}catch(t){}}ct(t){const e=this.mq&&this.mq.matches?"dark":"light";this.options.render="auto"===this.options.mode?e:this.options.mode;const i=JSON.stringify(t);localStorage.setItem(this.options.key,i)}ut(){const t=[],e=document.documentElement;for(const i of e.classList)"light"!==i&&"dark"!==i||t.push(i),(i.startsWith("j-theme-")||i.startsWith("j-radius-")||i.startsWith("j-shadow-")||i.startsWith("j-font-"))&&t.push(i);t.length&&e.classList.remove(...t)}dt(){const t=document.documentElement,{mode:e}=this.options;if("auto"===e){const e=this.mq&&this.mq.matches?"dark":"light";t.classList.remove("light","dark"),t.classList.add(e)}else t.classList.remove("light","dark"),t.classList.add("dark"===e?"dark":"light")}ot(t){this.ut(),this.dt();document.documentElement.classList.add(`j-theme-${t.theme}`,`j-radius-${t.radius}`,`j-shadow-${t.shadow}`,`j-font-${t.font}`)}lt(t=document){const e=t.querySelectorAll(".palette-item");for(const i of e){const t=i.dataset.palette,e=this.options[t],s=i.querySelectorAll("button[data-palette]");for(const i of s){const t=i.dataset.palette===(void 0===e?null:e);i.classList.toggle("is-active",t)}}}rt(){this.v.click=t=>{const e=t.target.closest(".palette-item .items > button[data-palette]");if(!e)return;const i=e.closest(".palette-item");if(!i)return;const s=i.dataset.palette,n=e.dataset.palette;e.classList.contains("is-active")||(this.options[s]=n,this.ot(this.options),this.ct(this.options),this.lt())},F(document.body,"click",this.v.click)}ft(){R(document.body,"click",this.v.click)}createPanel(t="j-theme-palette",e=null){const i=e||[{title:this.ht("theme"),type:"theme",buttons:[["gray",this.ht("gray")],["olive",this.ht("olive")],["tomato",this.ht("tomato")],["ruby",this.ht("ruby")],["pink",this.ht("pink")],["violet",this.ht("violet")],["indigo",this.ht("indigo")],["blue",this.ht("blue")],["teal",this.ht("teal")],["grass",this.ht("grass")],["mint",this.ht("mint")],["lime",this.ht("lime")],["yellow",this.ht("yellow")],["orange",this.ht("orange")],["gold",this.ht("gold")]]},{title:this.ht("radius"),type:"radius",buttons:[["none",this.ht("n")],["sm",this.ht("sm")],["md",this.ht("md")],["lg",this.ht("lg")],["xl",this.ht("xl")],["round",this.ht("round")]]},{title:this.ht("shadow"),type:"shadow",buttons:[["none",this.ht("n")],["sm",this.ht("sm")],["md",this.ht("md")],["lg",this.ht("lg")]]},{title:this.ht("font"),type:"font",buttons:[["sm",this.ht("sm")],["md",this.ht("md")]]},{title:this.ht("mode"),type:"mode",buttons:[["light",this.ht("light")],["dark",this.ht("dark")],["auto",this.ht("auto")]]}],s=[],n=`<div class="text-center"><button class="j-button is-text" data-action="close">${this.ht("b")}</button></div><h3>${this.ht("t")}</h3><p class="mt-0 text-sm">${this.ht("d")}</p><div class="palette-container">`;s.push(n);for(const o of i){s.push(`<div class="palette-item" data-palette="${o.type}"><div class="item-title">${o.title}</div><div class="items">`);for(const[t,e]of o.buttons){const i=String(this.options[o.type])===String(t)?" is-active":"",n="theme"===o.type?`<span class="el-prefix item-hex bg-${t}-10"></span>`:"";s.push(`<button class="j-button is-default${i}" data-palette="${t}">${n}<span class="button-text">${e}</span></button>`)}s.push("</div></div>")}s.push("</div>");return V("div",{className:t,html:s.join("")})}setConfig(t){this.options=Object.assign({},this.options,t),this.ot(this.options),this.ct(this.options),this.lt(document)}destroy(){this.ft(),this.options={},this.languages={},this.v={},this.mq=null,t.instances.delete(this)}static destroyAll(){for(const e of Array.from(t.instances))e.destroy();t.instances.clear()}};e(te,"instances",/* @__PURE__ */new Set);let ee=te;const ie=class t{constructor(t,e={}){if(!1!==t&&!(t instanceof HTMLElement))throw new Error("Element expects a valid HTMLElement or false.");this.options=Object.assign({id:null,direction:"top",active:0,disabled:[],onChange:null,tabs:[],onAdd:null,onRemove:null},e),this.p(this.options),this.u(t)}u(t){this.root=t,this.current=null,this.v={},this.bt=[];const{tabs:e,disabled:i,active:s}=this.options;if(!1===this.root&&(this.root=this.C(e)),0===this.tabs.length||0===this.panels.length)throw new Error(".tab-item or .panel-item not found.");this.bt=this.wt(i),this.vt(),this.P(),this.yt(s,!1),this.gt()}get tabs(){return this.root?Array.from(this.root.querySelectorAll(".tab-item")):[]}get panels(){return this.root?Array.from(this.root.querySelectorAll(".panel-item")):[]}get kt(){return this.root?this.root.querySelector(".tab-wrap"):null}get xt(){return this.root?this.root.querySelector(".tab-list"):null}p(t){const{id:e,direction:i,active:s,disabled:n,onChange:o,tabs:r,onAdd:a,onRemove:l}=t;y("id",e,["string","null"]),y("direction",i,"string",[{test:t=>["top","bottom","left","right"].includes(t),message:"direction expects one of [top, bottom, left, right]"}]),y("active",s,["number","string"]),y("disabled",n,["number","string","array"]),y("tabs",r,["array"]),y("onChange",o,["function","null"]),y("onAdd",a,["function","null"]),y("onRemove",l,["function","null"]),e&&e.trim()||(this.options.id=N())}C(t){const{id:e,direction:i}=this.options,s=V("nav",{className:"tab-list"}),n=V("div",{className:"tab-wrap",children:s}),o=V("div",{className:"tab-panel"});for(const r of t){const t=V("div",{className:"tab-item",attrs:{"data-tab":r.name||N()},html:`<span>${r.title}</span>`});s.appendChild(t);const e=V("div",{className:"panel-item",html:`<div>${r.content}</div>`});o.appendChild(e)}return V("div",{className:"j-tabs",id:e,direction:`is-${i}`,children:[n,o]})}wt(t){if(null==t)return[];const e=t=>"number"==typeof t?t:"string"==typeof t?this.tabs.findIndex(e=>e.dataset.tab===t):-1;if(Array.isArray(t))return t.map(e).filter(t=>t>=0);{const i=e(t);return i>=0?[i]:[]}}vt(){for(const[t,e]of this.tabs.entries())this.bt.includes(t)?(e.setAttribute("disabled","true"),e.classList.add("is-disabled")):(e.removeAttribute("disabled"),e.classList.remove("is-disabled"))}P(){this.et(),this.xt&&(this.v.tabClick=t=>{const e=t.target.closest(".tab-item");if(!e||!this.tabs.includes(e))return;const i=this.tabs.indexOf(e);i>=0&&!this.bt.includes(i)&&this.activate(i)},F(this.xt,"click",this.v.tabClick))}et(){this.xt&&this.v.tabClick&&R(this.xt,"click",this.v.tabClick),this.v.tabClick=null}async yt(t,e=!0){const{onChange:i}=this.options,s=this.$t(t);if(!(s<0||s>=this.tabs.length||this.bt.includes(s)||this.current===s)){this.current=s;for(const[t,e]of this.tabs.entries())e.classList.toggle("is-active",t===s);for(const[t,e]of this.panels.entries())e.classList.toggle("is-active",t===s);if(e&&i){const t=this.tabs[s],e=this.panels[s],n=t&&t.dataset.tab||s;await Promise.resolve(i(s,n,t,e))}}}$t(t){return"number"==typeof t?t:"string"==typeof t?this.tabs.findIndex(e=>e.dataset.tab===t):-1}gt(){const{direction:t}=this.options;this.kt&&this.xt&&(this.isVertical="left"===t||"right"===t,this.draggable=this._t(),this.draggable?(this.Et(),this.v.resize=()=>{cancelAnimationFrame(this.Ct),this.Ct=requestAnimationFrame(()=>{this.St()})},F(window,"resize",this.v.resize)):this.jt())}_t(){if(this.isVertical){return this.xt.scrollHeight>this.kt.clientHeight+5}return this.xt.scrollWidth>this.kt.clientWidth+5}Et(){this.jt();const t=this.kt,e=this.xt,i=this.isVertical;let s=0,n=0,o=0,r=!1;const a=t=>i?t.touches?t.touches[0].pageY:t.pageY:t.touches?t.touches[0].pageX:t.pageX,l=r=>{this.isDragging=!0,e.classList.add("dragging"),s=a(r),o=s,n=i?t.scrollTop:t.scrollLeft,this.Tt=0,cancelAnimationFrame(this.raf)},h=e=>{if(!this.isDragging)return;e.preventDefault();const l=a(e),h=s-l;this.Tt=o-l,o=l,r||(r=!0,requestAnimationFrame(()=>{r=!1,i?t.scrollTop=n+h:t.scrollLeft=n+h}))},c=()=>{this.isDragging&&(this.isDragging=!1,e.classList.remove("dragging"),this.Mt())};this.v.drag={onDragStart:l,onDragMove:h,onDragEnd:c},F(e,"mousedown",l),F(e,"touchstart",l,{passive:!0}),F(window,"mousemove",h,{passive:!1}),F(window,"touchmove",h,{passive:!1}),F(window,"mouseup",c),F(window,"touchend",c)}Mt(){const t=this.kt;let e=this.Tt;const i=this.isVertical;let s=performance.now();const n=o=>{const r=o-s;s=o,e*=.92,Math.abs(e)<.3||(i?t.scrollTop+=e*r*.05:t.scrollLeft+=e*r*.05,this.raf=requestAnimationFrame(n))};this.raf=requestAnimationFrame(n)}jt(){if(!this.v.drag)return;const{onDragStart:t,onDragMove:e,onDragEnd:i}=this.v.drag;R(this.xt,"mousedown",t),R(this.xt,"touchstart",t),R(window,"mousemove",e),R(window,"touchmove",e),R(window,"mouseup",i),R(window,"touchend",i),this.v.drag=null}St(){this.gt()}async activate(t){await this.yt(t,!0)}async reInit(t={}){this.options=Object.assign({},this.options,t);const{disabled:e,active:i}=this.options;this.bt=this.wt(e),this.vt(),this.P(),await this.yt(i,!1),this.St()}async addTab(t){const{title:e,name:i,content:s}=t;if(!t||!e)return;const n=this.root.querySelector(".tab-panel");t.name=i||N();const o=V("div",{className:"tab-item",attrs:{"data-tab":t.name},html:`<span>${e}</span>`});this.xt&&this.xt.appendChild(o);const r=V("div",{className:"panel-item",html:`<div>${s}</div>`});n.appendChild(r),this.vt(),this.P();const{onAdd:a}=this.options;a&&await Promise.resolve(a(this.tabs.length-1,t,o,r)),this.St()}async deleteTab(t){if(this.tabs.length<=1)return;const e=this.$t(t);if(e<0||e>=this.tabs.length)return;const i=this.tabs[e],s=this.panels[e],n=i.dataset.tab||e;i&&i.parentNode&&i.parentNode.removeChild(i),s&&s.parentNode&&s.parentNode.removeChild(s),this.vt(),this.P();const{onRemove:o}=this.options;o&&await Promise.resolve(o(e,n)),i.classList.contains("is-active")&&await this.yt(this.tabs.length-1,!1),this.St()}disableTab(t){const e=this.$t(t);e>=0&&!this.bt.includes(e)&&(this.bt.push(e),this.vt(),this.P())}enableTab(t){const e=this.$t(t),i=this.bt.indexOf(e);i>=0&&(this.bt.splice(i,1),this.vt(),this.P())}destroy(){this.et();for(const t of this.tabs)t.classList.remove("is-active","is-disabled"),t.removeAttribute("disabled");for(const t of this.panels)t.classList.remove("is-active");const e=this.xt;e&&(R(e.inner,"mousedown",this.Nt),R(e.inner,"touchstart",this.Nt),R(e.inner,"mousemove",this.At),R(e.inner,"touchmove",this.At),R(window,"mouseup",this.Lt),R(window,"touchend",this.Lt)),this.v.resize&&R(window,"resize",this.v.resize),this.root=null,this.options={},this.isVertical=!1,this.v={},t.instances.delete(this)}static destroyAll(){for(const e of Array.from(t.instances))e.destroy();t.instances.clear()}};e(ie,"instances",/* @__PURE__ */new Set);let se=ie;const ne=class t{constructor(e,i={}){if(!1!==e&&!(e instanceof HTMLElement))throw new Error("Accordion: element expects a valid HTMLElement or false.");this.options=Object.assign({id:null,active:0,collapsible:!1,multiple:!1,onChange:null,items:[]},i),this.p(this.options),this.u(e,this.options),t.instances.add(this)}p(t){const{id:e,active:i,collapsible:s,multiple:n,onChange:o,items:r}=t;y("id",e,["string","null"]),y("active",i,["number","string"]),y("collapsible",s,"boolean"),y("multiple",n,"boolean"),y("onChange",o,["function","null"]),y("items",r,"array"),e&&e.trim()||(this.options.id=N())}u(t,e){if(this.root=t,this.v={},!1===this.root&&(this.root=this.C(e)),0===this.headers.length||0===this.panels.length)throw new Error("Accordion: .accordion-header or .accordion-panel not found.");this.P(),null!=e.active&&this.yt(e.active,!1)}C(t){return V("div",{className:"j-accordion",id:t.id,children:this.It(t.items)})}It(t){if(!Array.isArray(t)||0===t.length)throw new Error("Accordion: items must be a non-empty array.");const e=document.createDocumentFragment();for(const i of t){if(i.name&&"string"!=typeof i.name)throw new Error("Accordion: item name expects a string.");const t=V("div",{className:"accordion-header",attrs:{"data-item":i.name||N()},html:`<span class="header-title">${i.title}</span><span class="header-arrow">${r("arrow-down")}</span>`}),s=V("div",{className:"accordion-panel"}),n=V("div",{className:"panel-content",children:i.content});s.appendChild(n),e.appendChild(t),e.appendChild(s)}return e}P(){this.et();const t=t=>{const e=t.target.closest(".accordion-header");e&&this.headers.includes(e)&&this.active(this.headers.indexOf(e))};F(this.root,"click",t),this.v.root=t}et(){const t=[{k:"root",t:this.root,e:"click"}];for(const{k:e,t:i,e:s}of t)this.v[e]&&(R(i,s,this.v[e]),delete this.v[e])}async yt(t,e=!0){const i=this.$t(t);if(i<0||i>=this.headers.length)return;const s=this.headers[i],n=this.panels[i],o=s&&s.dataset.item||i,r=s.classList.contains("is-active");if(!r||this.options.multiple||this.options.collapsible){if(this.options.multiple)r?(s.classList.remove("is-active"),n.classList.remove("is-active")):(s.classList.add("is-active"),n.classList.add("is-active"));else if(r)this.options.collapsible&&(s.classList.remove("is-active"),n.classList.remove("is-active"));else{for(const t of this.headers)t.classList.remove("is-active");for(const t of this.panels)t.classList.remove("is-active");s.classList.add("is-active"),n.classList.add("is-active")}e&&this.options.onChange&&await Promise.resolve(this.options.onChange(i,o,s,n))}}$t(t){return"number"==typeof t?t:"string"==typeof t?this.headers.findIndex(e=>e.dataset.item===t):-1}get headers(){return this.root?Array.from(this.root.querySelectorAll(".accordion-header")):[]}get panels(){return this.root?Array.from(this.root.querySelectorAll(".accordion-panel")):[]}get current(){const t=this.headers.find(t=>t.classList.contains("is-active"));return t?this.headers.indexOf(t):null}async active(t){return this.yt(t,!0),Promise.resolve()}setItems(t,e=0){if(!Array.isArray(t)||0===t.length)throw new Error("Accordion.setItems: items expects a non-empty array.");if("number"!=typeof e&&e<0)throw new Error("Accordion.setItems: active expects a positive number or 0.");this.options.items=[...t],this.options.active=e,this.et(),this.root.innerHTML="",this.root.append(this.It(t)),this.P(),this.yt(this.options.active)}destroy(){this.et();for(const t of this.headers)t.classList.remove("is-active");for(const t of this.panels)t.classList.remove("is-active");this.root=null,this.options={},this.Ht={},t.instances.delete(this)}destroyAll(){for(const e of Array.from(t.instances))e.destroy();t.instances.clear()}};e(ne,"instances",/* @__PURE__ */new Set);let oe=ne;const re=class t{constructor(t,e={}){if(!(t instanceof HTMLElement))throw new Error("Drop: element expects a valid HTMLElement.");this.target=t,this.options=Object.assign({name:null,mode:"click",position:"auto",offset:10,content:"",className:null,id:null,containerClassName:null,delay:0,hoverIntent:!0,onShown:null,onHidden:null},e),this.p(this.options),this.u(this.options)}p(t){y("name",t.name,["string","null"]),y("mode",t.mode,["string"]),y("position",t.position,["string"],[{test:t=>["auto","top-left","top-center","top-right","bottom-left","bottom-center","bottom-right","left","right"].includes(t),message:"expects one of [auto, top-left, top-center, top-right, bottom-left, bottom-center, bottom-right, left, right]"}]),y("offset",t.offset,"number",[{test:t=>t>=0,message:"offset expects a positive number or 0."}]),y("content",t.content,["string","HTMLElement"]),y("className",t.className,["string","null"]),y("id",t.id,["string","null"]),y("containerClassName",t.containerClassName,["string","null"]),y("delay",t.delay,["number","object"]),y("hoverIntent",t.hoverIntent,"boolean"),y("onShown",t.onShown,["function","null"]),y("onHidden",t.onHidden,["function","null"]),t.id&&t.id.trim()||(this.options.id=N())}u(e){this.isVisible=!1,this.root=null,this.v={},this.Ot={show:null,hide:null},this.Dt={x:0,y:0,lastMoveTime:0};const{delay:i}=e;"number"==typeof i&&i>=0?(this.delayShow=i,this.delayHide=i):"object"==typeof i&&null!==i?(this.delayShow=Number(i.show)||0,this.delayHide=Number(i.hide)||0):(this.delayShow=0,this.delayHide=0),this.v={show:this.show.bind(this),hide:this.hide.bind(this),toggle:this.toggle.bind(this),mouseMove:this.Pt.bind(this),docClick:this.qt.bind(this),startIntent:this.Ft.bind(this),cancelIntent:this.Rt.bind(this)},this.zt(e),this.P(e),t.instances.add(this)}zt(t){const{className:e,content:i,id:s,name:n,containerClassName:o}=t,r=e||"",a=i instanceof HTMLElement?i:V("div",{className:o?`drop-container ${o}`:"drop-container",html:i}),l=V("div",{className:r?`j-drop ${r}`:"j-drop",id:s,attrs:{"data-drop":n||N()},children:a});this.root=l,document.body.appendChild(l)}P(t){const{mode:e,hoverIntent:i}=t;"hover"===e?(i?(F(this.target,"mouseenter",this.v.startIntent),F(this.target,"mouseleave",this.v.cancelIntent)):(F(this.target,"mouseenter",this.v.show),F(this.target,"mouseleave",this.v.hide)),F(this.root,"mouseenter",this.v.show),F(this.root,"mouseleave",this.v.hide)):"click"===e&&(F(this.target,"click",this.v.toggle),F(document,"click",this.v.docClick))}et(){const{mode:t,hoverIntent:e}=this.options;"hover"===t?(e?(R(this.target,"mouseenter",this.v.startIntent),R(this.target,"mouseleave",this.v.cancelIntent)):(R(this.target,"mouseenter",this.v.show),R(this.target,"mouseleave",this.v.hide)),R(this.root,"mouseenter",this.v.show),R(this.root,"mouseleave",this.v.hide)):"click"===t&&(R(this.target,"click",this.v.toggle),R(document,"click",this.v.docClick)),R(document,"mousemove",this.v.mouseMove)}Ft(){F(document,"mousemove",this.v.mouseMove),clearTimeout(this.Ot.show),this.Ot.show=setTimeout(()=>{const t=Date.now()-this.Dt.lastMoveTime;Math.abs(this.Dt.x-this.Bt||0)+Math.abs(this.Dt.y-this.Vt||0)<5||t>100?(this.show(),R(document,"mousemove",this.v.mouseMove)):this.Ft()},this.delayShow)}Rt(){clearTimeout(this.Ot.show),R(document,"mousemove",this.v.mouseMove),this.hide()}Pt(t){this.Bt=t.clientX,this.Vt=t.clientY,this.Dt.lastMoveTime=Date.now(),this.Dt.x=t.clientX,this.Dt.y=t.clientY}Zt(){const t=this.target.getBoundingClientRect(),e=this.root,{offset:i,position:s}=this.options;e.style.visibility="hidden",e.style.display="block";const n=e.getBoundingClientRect();let o=0,r=0,a=s;if("auto"===a){a=window.innerHeight-t.bottom>n.height+i?"top-center":"bottom-center"}switch(a){case"top-left":o=t.top-n.height-i,r=t.left;break;case"top-center":o=t.top-n.height-i,r=t.left+t.width/2-n.width/2;break;case"top-right":o=t.top-n.height-i,r=t.right-n.width;break;case"bottom-left":o=t.bottom+i,r=t.left;break;case"bottom-center":o=t.bottom+i,r=t.left+t.width/2-n.width/2;break;case"bottom-right":o=t.bottom+i,r=t.right-n.width;break;case"left":o=t.top+t.height/2-n.height/2,r=t.left-n.width-i;break;case"right":o=t.top+t.height/2-n.height/2,r=t.right+i}o=Math.max(8,Math.min(o,window.innerHeight-n.height-8)),r=Math.max(8,Math.min(r,window.innerWidth-n.width-8)),e.style.top=`${o+window.scrollY}px`,e.style.left=`${r+window.scrollX}px`,e.style.visibility="",e.style.display=""}qt(t){this.root.contains(t.target)||this.target.contains(t.target)||this.hide()}Ut(t){t?this.Zt():(this.root.style.top="",this.root.style.left=""),this.root.classList.toggle("is-active",t),this.isVisible=t}show(t=!0){clearTimeout(this.Ot.hide),this.isVisible||(t&&this.delayShow>0?(clearTimeout(this.Ot.show),this.Ot.show=setTimeout(this.Ut(!0),this.delayShow)):this.Ut(!0),this.options.onShown&&this.options.onShown())}hide(t=!0){clearTimeout(this.Ot.show),this.isVisible&&(t&&this.delayHide>0?(clearTimeout(this.Ot.hide),this.Ot.hide=setTimeout(this.Ut(!1),this.delayHide)):this.Ut(!1),this.options.onHidden&&this.options.onHidden())}toggle(){this.isVisible?this.hide():this.show()}destroy(){var e;clearTimeout(this.Ot.show),clearTimeout(this.Ot.hide),this.hide(!1),this.et(),(null==(e=this.root)?void 0:e.parentNode)&&this.root.parentNode.removeChild(this.root),this.options=null,this.root=null,this.target=null,t.instances.delete(this)}static destroyAll(){for(const e of Array.from(t.instances))e.destroy();t.instances.clear()}};e(re,"instances",/* @__PURE__ */new Set);let ae=re;const le=class t{constructor(t,e={}){if(!(t instanceof HTMLElement))throw new Error("Tooltip: element expects a valid HTMLElement.");const i=Object.assign({name:null,mode:"hover",position:"auto",offset:8,message:"",className:null,id:null,delay:100,hoverIntent:!0},e),s=this.Jt(i);this.drop=new ae(t,{name:i.name,mode:i.mode,position:i.position,offset:i.offset,content:s,className:i.className,id:i.id,delay:i.delay,hoverIntent:i.hoverIntent})}Jt(t){if("string"!=typeof t.message||""===t.message.trim())throw new Error("Tooltip: message expects a string.");const e=V("div",{className:"tooltip-message",text:t.message});return V("div",{className:t.className?`j-tooltip ${t.className}`:"j-tooltip",children:e})}show(t=!0){this.drop.show(t)}hide(t=!0){this.drop.hide(t)}toggle(){this.drop.toggle()}destroy(){this.drop.destroy(),this.drop=null,t.instances.delete(this)}static destroyAll(){for(const e of Array.from(t.instances))e.destroy();t.instances.clear()}};e(le,"instances",/* @__PURE__ */new Set);let he=le;const ce=class t{constructor(t,e={},i=!1){this.options={rules:{},messages:{},onSubmit:null,...e},this.p(t,this.options,i),this.u(t),i&&this.P()}p(t,e,i){y("element",t,["HTMLElement","string"]),y("rules",e.rules,"object"),y("messages",e.messages,"object"),y("onSubmit",e.onSubmit,["function","null"]),y("bindEvents",i,"boolean")}u(t){this.root=t,this.valid=!0}P(){F(this.root,"submit",t=>{t.preventDefault(),this.validate()}),F(this.root,"reset",()=>{this.reset()})}validate(){for(const t of this.root.elements){const e=t.name;if(this.options.rules[e]&&(this.valid=this.Wt(t,e),!this.valid))break}return this.valid&&this.options.onSubmit&&this.options.onSubmit(),this.valid}Wt(t,e){const i=this.options.rules[e];if(t.hasAttribute("required")||t.hasAttribute("minlength")||t.hasAttribute("maxlength")||t.hasAttribute("pattern")||t.hasAttribute("min")||t.hasAttribute("max")||t.hasAttribute("step"))return this.valid;for(const s in i){switch(s){case"required":this.valid=this.Gt(t,i[s]);break;case"minLength":this.valid=this.Xt(t,i[s]);break;case"maxLength":this.valid=this.Yt(t,i[s]);break;case"equalTo":this.valid=this.Kt(t,i[s]);break;case"email":this.valid=this.Qt(t);break;case"checked":this.valid=this.te(t,i[s]);break;case"noSpace":this.valid=this.ee(t,i[s]);break;case"noChinese":this.valid=!/[\u4e00-\u9fa5]/.test(t.value);break;case"noSpecial":this.valid=!/[@#$%^&*]+/g.test(t.value);break;case"pattern":this.valid=new RegExp(i[s]).test(t.value)}if(!this.valid){this.ie(t,e,s);break}this.se(t)}return this.valid}Gt(t,e){return t.value.trim().length>=1&&!0===e}Xt(t,e){return t.value.length>=e}Yt(t,e){return t.value.length<=e}Qt(t){return/^([\w-.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(t.value)}Kt(t,e){const i=this.root.elements[e];if(null==i)throw new Error(`Validator: target element "${e}" not found.`);return t.value===i.value}te(t,e){if("checkbox"!==t.type)throw new Error(`Validator: element expects a checkbox input, but ${t.type} given.`);return t.checked===e}ee(t,e){return!/\s/.test(t.value)||!0!==e}ie(t,e,i){"checkbox"!==t.type&&(t.classList.remove("is-valid"),t.classList.add("is-invalid"));const s=this.options.messages[e]&&this.options.messages[e][i];if(s){this.message=s;const e=t.closest(".form-control");let i=z(".help-block",e);i||(i=V("div",{className:"help-block is-invalid",text:s}),e.appendChild(i))}}se(t){this.message="";const e=t.closest(".form-control"),i=z(".help-block",e);i&&e.removeChild(i),"checkbox"!==t.type&&(t.classList.remove("is-invalid"),t.classList.add("is-valid"))}reset(){this.root.reset();for(const e of this.root.elements)e.classList.remove("is-valid"),e.classList.remove("is-invalid");const t=this.root.querySelectorAll(".help-block");for(const e of t)e.remove();this.valid=!0,this.message=""}destroy(){this.reset(),this.root=null,this.options=null,this.message=null,this.valid=null,t.instances.delete(this)}static destroyAll(){for(const e of Array.from(t.instances))e.destroy();t.instances.clear()}};e(ce,"instances",/* @__PURE__ */new Set);let ue=ce;class de{constructor(t){this.options=Object.assign({ball:{color:"var(--primary, #3e63dd)",size:"10px"},from:null,to:null,direction:"center",showDelay:0,hideDelay:0,onShow:null,onHidden:null},t),this.p(this.options),this.u(this.options)}p(t){const{ball:e,from:i,to:s,direction:n,showDelay:o,hideDelay:r,onShow:a,onHidden:l}=t;y("ball",e,"object",[{test:t=>"object"==typeof t&&2===Object.keys(t).length&&"string"==typeof t.color&&"string"==typeof t.size,message:'ball expects an object with two string properties: "color" and "size".'}]),y("from",i,["HTMLElement","string"]),y("to",s,["HTMLElement","string"]),y("direction",n,"string",[{test:t=>["center","top-right","top-left","bottom-right","bottom-left"].includes(t),message:"direction expects one of [center, top-right, top-left, bottom-right, bottom-left]"}]),y("showDelay",o,"number"),y("hideDelay",r,"number"),y("onShow",a,["function","null"]),y("onHide",l,["function","null"])}u(t){if(this.hidden=!1,this.ne=null,this.oe=null,this.re=null,this.ae=null,this.hidden)return;const e=B(t.from),i=B(t.to);if(!e||!i)throw this.destroy(),new Error("Parabola: from or to element not found.");this.le(t)}le(t){if(this.hidden||this.ne)return;const{color:e,size:i}=t.ball;this.ne=V("div",{className:"parabola-ball",style:{backgroundColor:e,width:i,height:i,position:"fixed",borderRadius:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none",zIndex:"9999",opacity:"1"}}),document.body.appendChild(this.ne)}he(t){var e,i;const s=null==(e=B(t.from))?void 0:e.getBoundingClientRect(),n=null==(i=B(t.to))?void 0:i.getBoundingClientRect();if(!s||!n)return null;const{left:o,top:r,width:a,height:l}=s,{left:h,top:c,width:u,height:d}=n;let f,m;switch(t.direction){case"top-left":f=o+.2*a,m=r+.2*l;break;case"top-right":f=o+.8*a,m=r+.2*l;break;case"bottom-left":f=o+.2*a,m=r+.8*l;break;case"bottom-right":f=o+.8*a,m=r+.8*l;break;default:f=o+a/2,m=r+l/2}return{startX:f,startY:m,endX:h+u/2,endY:c+d/2}}ce(t){return 1-(1-t)**3}ue(t,e,i,s,n=800){if(this.hidden)return;const o=performance.now(),r=i-t,a=s-e,l=i=>{if(this.hidden)return;const s=i-o,h=Math.min(s/n,1),c=this.ce(h),u=t+r*c,d=e+-100*Math.sin(Math.PI*c)+a*c,f=1-h;this.ne.style.left=`${u}px`,this.ne.style.top=`${d}px`,this.ne.style.opacity=`${f}`,this.ne.style.transform=`translate(-50%, -50%) scale(${1-.3*c})`,h<1?this.oe=requestAnimationFrame(l):this.destroy()};this.oe=requestAnimationFrame(l)}async show(){return!this.hidden&&new Promise(t=>{this.re=setTimeout(()=>{if(this.hidden)return void t(!1);const e=this.he(this.options);if(!e)return this.destroy(),void t(!1);this.ne.style.left=`${e.startX}px`,this.ne.style.top=`${e.startY}px`,this.options.onShow&&this.options.onShow(),this.ue(e.startX,e.startY,e.endX,e.endY),t(!0)},this.options.showDelay)})}destroy(){var t;(null==(t=this.ne)?void 0:t.parentNode)&&this.ne.parentNode.removeChild(this.ne),this.re&&clearTimeout(this.re),this.ae&&clearTimeout(this.ae),this.oe&&cancelAnimationFrame(this.oe),this.ne=null,this.hidden=!0,this.options.onHidden&&this.options.onHidden()}start(){return this.show()}}const fe=class t{constructor(e,i={}){this.de=e,this.options={id:"",items:[],backText:"Back",...i},this.root=null,this.v=null,this.fe=!1,this.p(),t.instances.add(this)}get menu(){return this.root}p(){const{items:t,backText:e,id:i}=this.options;!1!==this.de&&y("element",this.de,["HTMLElement","string"]),this.me(t),y("textBack",e,["string"]),y("id",i,["string"]),""===i.trim()&&(this.options.id=N())}me(t){y("items",t,["array"],[{test:t=>{const e=["id","title","url","target","classes","menu_item_parent","children"];return t.every(t=>"object"==typeof t&&null!==t&&Object.keys(t).every(t=>e.includes(t)))},message:"items expects an array of objects with the following keys: id, title, url, target, classes, menu_item_parent, children"}])}build(){if(this.fe)return this;if(!1===this.de)this.root=this.C(),this.fe=!0;else{const t="string"==typeof this.de?z(this.de):this.de;if(!t)throw new Error("Element not found");this.root=t,this.fe=!0}return this.P(),this}C(){const{items:t,id:e}=this.options;return V("nav",{className:"j-mobile-menu",children:V("ul",{className:"menu",id:e,children:t.map(t=>this.pe(t))})})}pe(t){const e=t.children&&t.children.length>0,i=["menu-item"];e&&i.push("menu-item-has-children"),t.classes&&Array.isArray(t.classes)&&i.push(...t.classes);const s=[V("a",{className:"menu-link",attrs:{href:t.url||"#",...t.target&&{target:t.target}},text:t.title})];return e&&s.push(V("ul",{className:"sub-menu",children:t.children.map(t=>this.pe(t))})),V("li",{className:i.join(" "),id:`menu-item-${t.id||N()}`,children:s})}P(){this.root&&(this.v=t=>{const e=t.target;if(e.closest(".menu-item.back"))return t.preventDefault(),void this.be(e);const i=e.closest(".menu-item.menu-item-has-children");if(i){const s=z(":scope > a",i);s&&(e===s||s.contains(e))&&(t.preventDefault(),this.we(i))}},F(this.root,"click",this.v))}we(t){t.classList.add("is-active");const e=z(":scope > .sub-menu",t);if(!e)return;if(z(":scope > .menu-item.back",e))return;const i=V("li",{className:"menu-item back",children:V("a",{className:"menu-link",attrs:{href:""},children:[V("icon",{className:"el-icon el-prefix",html:r("arrow-left")}),V("span",{className:"menu-text",text:this.options.backText})]})});e.insertBefore(i,e.firstChild)}be(t){const e=t.closest(".menu-item.back");if(!e)return;const i=e.parentElement.parentElement;i&&i.classList.contains("menu-item-has-children")&&i.classList.remove("is-active"),e.remove()}setItems(t){return this.me(t),this.options.items=t,this.fe&&(this.destroy(),this.build()),this}removeItem(t){if(!this.root)return this;const e=z(`[id^="menu-item-${t}"]`,this.root);if(e&&e.remove(),this.options.items){const e=i=>{for(let s=i.length-1;s>=0;s--)i[s].id===t?i.splice(s,1):i[s].children&&e(i[s].children)};e(this.options.items)}return this}destroy(){this.fe&&(this.root&&this.v&&R(this.root,"click",this.v),!1===this.de&&this.root&&this.root.parentElement&&this.root.remove(),this.de=null,this.root=null,this.v=null,this.fe=!1,t.instances.delete(this))}static destroyAll(){for(const e of t.instances)e.destroy();t.instances.clear()}};e(fe,"instances",/* @__PURE__ */new Set);let me=fe;export{oe as accordion,a as addIcons,mt as batch,Ft as bindAttr,Bt as bindIf,Vt as bindList,zt as bindShow,Rt as bindStyle,qt as bindText,Tt as catchError,b as computed,X as container,P as copy,Ut as createCompositeKey,yt as createComputed,Ot as createDeepStore,gt as createEffect,jt as createErrorBoundary,Jt as createIndexKey,Zt as createListKey,Mt as createMemo,vt as createReadonly,Dt as createResource,Ct as createRoot,Et as createScope,wt as createSignal,It as createStore,Pt as createSuspense,Wt as createValueKey,Nt as createWatch,$ as destroyAll,ae as drop,p as effect,A as escapeHtml,pt as flushSync,I as getCookie,B as getEl,j as getLang,C as getLanguages,S as getLocale,st as getOwner,w as getType,r as icon,g as isClass,v as isFunction,L as isMobile,Z as lazyRender,W as log,me as menu,Xt as modal,V as newEl,R as off,Qt as offcanvas,F as on,xt as onCleanup,$t as onDispose,_t as onMount,de as parabola,D as postJson,z as q,N as randomId,f as reactive,m as ref,x as release,O as removeCookie,J as restUrl,_ as service,H as setCookie,E as setLanguages,k as singleton,bt as startTransition,Y as store,T as t,se as tabs,ee as theme,Yt as toast,he as tooltip,u as track,d as trigger,St as untrack,M as uuid,y as validate,ue as validator};
